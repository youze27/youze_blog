"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[2884],{52884:(e,E,t)=>{t.r(E),t.d(E,{default:()=>v});var l=t(6296),s=t(71231),a=t(3371),r=t(25598),i=t(6254),B=t(64683),u=t(8878),n=t(75929);const A=["/","/intro.html","/link.html","/demo/","/demo/layout.html","/demo/markdown.html","/demo/page.html","/nav/","/nav/disable.html","/net/Mysql_base.html","/net/PHP%E7%AE%80%E6%98%8E%E7%AC%94%E8%AE%B0.html","/net/","/net/URL%E8%AF%B7%E6%B1%82%E5%90%8E%E7%9A%84%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B.html","/net/git%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4.html","/net/python%E9%A2%98.html","/net/web%20shell.html","/perm/","/think/","/perm/SQL%E6%B3%A8%E5%85%A5/MSSql%E6%B3%A8%E5%85%A5%E5%A4%8D%E7%9B%98.html","/perm/SQL%E6%B3%A8%E5%85%A5/MySQL%E6%B3%A8%E5%85%A5%E5%A4%8D%E7%9B%98.html","/perm/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/FOFA%E8%AF%AD%E6%B3%95.html","/perm/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/Google%20Hacking.html","/perm/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95%E5%8F%8A%E6%B5%81%E7%A8%8B.html","/perm/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%90%86%E5%8F%8A%E5%8F%8D%E7%BC%96%E8%AF%91.html","/perm/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/Linux%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81.html","/perm/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/Linux%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83.html","/perm/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/windows%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81.html","/perm/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/windows%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/CSRF%E6%BC%8F%E6%B4%9E.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/XSS-lab.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/XSS%E5%AE%9E%E9%AA%8C.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/XXE_SSRF.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/java%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/upload-labs.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/%E6%A1%86%E6%9E%B6%E6%BC%8F%E6%B4%9E.html","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E.html","/404.html","/perm/SQL%E6%B3%A8%E5%85%A5/","/perm/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","/perm/%E5%B0%8F%E7%A8%8B%E5%BA%8F/","/perm/%E6%9D%83%E9%99%90%E6%8F%90%E5%8D%87/","/perm/%E6%BC%8F%E6%B4%9E%E4%B8%93%E9%A2%98/","/category/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E6%8C%87%E5%8D%97/","/category/%E8%AE%A1%E7%BD%91%E5%9F%BA%E7%A1%80/","/category/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/","/category/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","/tag/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E5%B8%83%E5%B1%80/","/tag/markdown/","/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/%E7%A6%81%E7%94%A8/","/tag/%E8%AE%A1%E7%BD%91%E5%9F%BA%E7%A1%80/","/tag/mysql/","/tag/php/","/tag/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/","/tag/git/","/tag/ssh/","/tag/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/","/tag/python/","/tag/webshell/","/tag/mssql/","/tag/sql%E6%B3%A8%E5%85%A5/","/tag/%E5%AE%9E%E9%AA%8C%E8%BF%87%E7%A8%8B/","/tag/%E5%9F%BA%E7%A1%80%E5%A4%8D%E7%9B%98/","/tag/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","/tag/fofa/","/tag/google-hacking/","/tag/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/","/tag/%E5%B0%8F%E7%A8%8B%E5%BA%8F/","/tag/%E4%BB%A3%E7%90%86/","/tag/%E5%8F%8D%E7%BC%96%E8%AF%91/","/tag/linux%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/","/tag/linux%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83/","/tag/windows%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/","/tag/windows%E7%B3%BB%E7%BB%9F%E6%8F%90%E6%9D%83/","/tag/csrf/","/tag/php%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/","/tag/xss-lab/","/tag/xss%E5%AE%9E%E9%AA%8C/","/tag/xxe_ssrf/","/tag/java%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","/tag/upload-labs/","/tag/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","/tag/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/","/tag/%E6%A1%86%E6%9E%B6%E6%BC%8F%E6%B4%9E/","/tag/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/","/article/","/star/","/timeline/"],h=(0,s.Mjh)("SLIMSEARCH_QUERY_HISTORY",[]),m=e=>A[e.id]+("anchor"in e?`#${e.anchor}`:""),{resultHistoryCount:o}=u.o,c=(0,s.Mjh)("SLIMSEARCH_RESULT_HISTORY",[]);var v=(0,i.pM)({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(e,{emit:E}){const t=(0,B.rd)(),A=(0,B.Zv)(),v=(0,l.s5)(u.l),{enabled:p,addQueryHistory:F,queryHistories:g,removeQueryHistory:d}=(()=>{const{queryHistoryCount:e}=u.o,E=e>0;return{enabled:E,queryHistories:h,addQueryHistory:t=>{E&&(h.value=Array.from(new Set([t,...h.value.slice(0,e-1)])))},removeQueryHistory:e=>{h.value=[...h.value.slice(0,e),...h.value.slice(e+1)]}}})(),{enabled:y,resultHistories:C,addResultHistory:D,removeResultHistory:H}=(()=>{const e=o>0;return{enabled:e,resultHistories:c,addResultHistory:E=>{if(e){const e={link:m(E),display:E.display};"header"in E&&(e.header=E.header),c.value=[e,...c.value.slice(0,o-1)]}},removeResultHistory:e=>{c.value=[...c.value.slice(0,e),...c.value.slice(e+1)]}}})(),S=p||y,w=(0,r.lW)(e,"queries"),{results:f,isSearching:k}=(e=>{const E=(0,u.u)(),t=(0,B.Zv)(),l=(0,B.BV)(),s=(0,r.KR)(0),n=(0,i.EW)((()=>s.value>0)),A=(0,r.IJ)([]);return(0,i.sV)((()=>{const{search:r,terminate:B}=(0,u.c)(),n=(0,a.Q0)((e=>{const{resultsFilter:a=e=>e,querySplitter:i,suggestionsFilter:B,...u}=E.value;e?(s.value+=1,r(e,t.value,u).then((E=>a(E,e,t.value,l.value))).then((e=>{s.value-=1,A.value=e})).catch((e=>{console.warn(e),s.value-=1,s.value||(A.value=[])}))):A.value=[]}),u.o.searchDelay-u.o.suggestDelay,{maxWait:5e3});(0,a.T3)([e,t],(([e])=>n(e.join(" ")))),(0,i.hi)((()=>{B()}))})),{isSearching:n,results:A}})(w),Q=(0,r.Kh)({isQuery:!0,index:0}),x=(0,r.KR)(0),R=(0,r.KR)(0),b=(0,i.EW)((()=>S&&(g.value.length>0||C.value.length>0))),q=(0,i.EW)((()=>f.value.length>0)),L=(0,i.EW)((()=>f.value[x.value]||null)),_=e=>e.map((e=>(0,l.Kg)(e)?e:(0,i.h)(e[0],e[1]))),M=e=>{if("customField"===e.type){const E=u.a[e.index]||"$content",[t,s=""]=(0,l.Qd)(E)?E[A.value].split("$content"):E.split("$content");return e.display.map((e=>(0,i.h)("div",_([t,...e,s]))))}return e.display.map((e=>(0,i.h)("div",_(e))))},T=()=>{x.value=0,R.value=0,E("updateQuery",""),E("close")};return(0,s.MLh)("keydown",(l=>{if(e.isFocusing)if(q.value){if("ArrowUp"===l.key)R.value>0?R.value-=1:(x.value=x.value>0?x.value-1:f.value.length-1,R.value=L.value.contents.length-1);else if("ArrowDown"===l.key)R.value<L.value.contents.length-1?R.value+=1:(x.value=x.value<f.value.length-1?x.value+1:0,R.value=0);else if("Enter"===l.key){const E=L.value.contents[R.value];F(e.queries.join(" ")),D(E),t.push(m(E)),T()}}else if(y)if("ArrowUp"===l.key)(()=>{const{isQuery:e,index:E}=Q;0===E?(Q.isQuery=!e,Q.index=e?C.value.length-1:g.value.length-1):Q.index=E-1})();else if("ArrowDown"===l.key)(()=>{const{isQuery:e,index:E}=Q;E===(e?g.value.length-1:C.value.length-1)?(Q.isQuery=!e,Q.index=0):Q.index=E+1})();else if("Enter"===l.key){const{index:e}=Q;Q.isQuery?(E("updateQuery",g.value[e]),l.preventDefault()):(t.push(C.value[e].link),T())}})),(0,i.wB)([x,R],(()=>{document.querySelector(".slimsearch-result-list-item.active .slimsearch-result-item.active")?.scrollIntoView(!1)}),{flush:"post"}),()=>(0,i.h)("div",{class:["slimsearch-result-wrapper",{empty:e.queries.length?!q.value:!b.value}],id:"slimsearch-results"},e.queries.length?k.value?(0,i.h)(n.S,{hint:v.value.searching}):q.value?(0,i.h)("ul",{class:"slimsearch-result-list"},f.value.map((({title:E,contents:t},l)=>{const s=x.value===l;return(0,i.h)("li",{class:["slimsearch-result-list-item",{active:s}]},[(0,i.h)("div",{class:"slimsearch-result-title"},E||v.value.defaultTitle),t.map(((E,t)=>{const l=s&&R.value===t;return(0,i.h)(B.Wt,{to:m(E),class:["slimsearch-result-item",{active:l,"aria-selected":l}],onClick:()=>{F(e.queries.join(" ")),D(E),T()}},(()=>["text"===E.type?null:(0,i.h)("title"===E.type?n.T:"heading"===E.type?n.H:n.a,{class:"slimsearch-result-type"}),(0,i.h)("div",{class:"slimsearch-result-content"},["text"===E.type&&E.header?(0,i.h)("div",{class:"content-header"},E.header):null,(0,i.h)("div",M(E))])]))}))])}))):v.value.emptyResult:S?b.value?[p?(0,i.h)("ul",{class:"slimsearch-result-list"},(0,i.h)("li",{class:"slimsearch-result-list-item"},[(0,i.h)("div",{class:"slimsearch-result-title"},v.value.queryHistory),g.value.map(((e,t)=>(0,i.h)("div",{class:["slimsearch-result-item",{active:Q.isQuery&&Q.index===t}],onClick:()=>{E("updateQuery",e)}},[(0,i.h)(n.b,{class:"slimsearch-result-type"}),(0,i.h)("div",{class:"slimsearch-result-content"},e),(0,i.h)("button",{class:"slimsearch-remove-icon",innerHTML:n.C,onClick:e=>{e.preventDefault(),e.stopPropagation(),d(t)}})])))])):null,y?(0,i.h)("ul",{class:"slimsearch-result-list"},(0,i.h)("li",{class:"slimsearch-result-list-item"},[(0,i.h)("div",{class:"slimsearch-result-title"},v.value.resultHistory),C.value.map(((e,E)=>(0,i.h)(B.Wt,{to:e.link,class:["slimsearch-result-item",{active:!Q.isQuery&&Q.index===E}],onClick:()=>{T()}},(()=>[(0,i.h)(n.b,{class:"slimsearch-result-type"}),(0,i.h)("div",{class:"slimsearch-result-content"},[e.header?(0,i.h)("div",{class:"content-header"},e.header):null,(0,i.h)("div",e.display.map((e=>_(e))).flat())]),(0,i.h)("button",{class:"slimsearch-remove-icon",innerHTML:n.C,onClick:e=>{e.preventDefault(),e.stopPropagation(),H(E)}})]))))])):null]:v.value.emptyHistory:v.value.emptyResult)}})}}]);